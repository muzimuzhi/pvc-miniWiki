<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="299px" preserveAspectRatio="none" style="width:606px;height:299px;" version="1.1" viewBox="0 0 606 299" width="606px" zoomAndPan="magnify"><defs><filter height="300%" id="few7lcyudpe2a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class NonDerivableSingleton--><rect fill="#FEFECE" filter="url(#few7lcyudpe2a)" height="86.8652" id="NonDerivableSingleton" style="stroke: #A80036; stroke-width: 1.5;" width="233" x="92.5" y="31.5"/><ellipse cx="140.25" cy="47.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M142.7231,53.6431 Q142.1421,53.9419 141.5029,54.0913 Q140.8638,54.2407 140.1582,54.2407 Q137.6514,54.2407 136.3315,52.5889 Q135.0117,50.937 135.0117,47.8159 Q135.0117,44.6865 136.3315,43.0347 Q137.6514,41.3828 140.1582,41.3828 Q140.8638,41.3828 141.5112,41.5322 Q142.1587,41.6816 142.7231,41.9805 L142.7231,44.7031 Q142.0923,44.1221 141.4988,43.8523 Q140.9053,43.5825 140.2744,43.5825 Q138.9297,43.5825 138.2449,44.6492 Q137.5601,45.7158 137.5601,47.8159 Q137.5601,49.9077 138.2449,50.9744 Q138.9297,52.041 140.2744,52.041 Q140.9053,52.041 141.4988,51.7712 Q142.0923,51.5015 142.7231,50.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="129" x="160.75" y="52.0352">NonDerivableSingleton</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="93.5" x2="324.5" y1="63.5" y2="63.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="100.5" y="72.4775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="181" x="112.5" y="78.1348">instance : NonDerivableSingleton*</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="93.5" x2="324.5" y1="84.4551" y2="84.4551"/><ellipse cx="103.5" cy="96.4326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="207" x="112.5" y="99.0898">GetInstance() : NonDerivableSingleton*</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="100.5" y="106.3877"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="112.5" y="112.0449">NonDerivableSingleton()</text><!--class BaseSingleton--><rect fill="#FEFECE" filter="url(#few7lcyudpe2a)" height="133.7305" id="BaseSingleton" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="361" y="8"/><ellipse cx="434.75" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M437.2231,30.1431 Q436.6421,30.4419 436.0029,30.5913 Q435.3638,30.7407 434.6582,30.7407 Q432.1514,30.7407 430.8315,29.0889 Q429.5117,27.437 429.5117,24.3159 Q429.5117,21.1865 430.8315,19.5347 Q432.1514,17.8828 434.6582,17.8828 Q435.3638,17.8828 436.0112,18.0322 Q436.6587,18.1816 437.2231,18.4805 L437.2231,21.2031 Q436.5923,20.6221 435.9988,20.3523 Q435.4053,20.0825 434.7744,20.0825 Q433.4297,20.0825 432.7449,21.1492 Q432.0601,22.2158 432.0601,24.3159 Q432.0601,26.4077 432.7449,27.4744 Q433.4297,28.541 434.7744,28.541 Q435.4053,28.541 435.9988,28.2712 Q436.5923,28.0015 437.2231,27.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="455.25" y="28.5352">BaseSingleton</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="362" x2="594" y1="40" y2="40"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="369" y="48.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="133" x="381" y="54.6348">instance : BaseSingleton*</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="369" y="61.9326"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="208" x="381" y="67.5898">registry : Map&lt;String, BaseSingleton*&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="362" x2="594" y1="73.9102" y2="73.9102"/><ellipse cx="372" cy="85.8877" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="159" x="381" y="88.5449">GetInstance() : BaseSingleton*</text><polygon fill="#FFFF44" points="372,93.8428,376,97.8428,372,101.8428,368,97.8428" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="381" y="101.5">BaseSingleton()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="362" x2="594" y1="107.8203" y2="107.8203"/><polygon fill="#FFFF44" points="372,114.7979,376,118.7979,372,122.7979,368,118.7979" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="169" x="381" y="122.4551">Register(String, BaseSingleton*)</text><polygon fill="#FFFF44" points="372,127.7529,376,131.7529,372,135.7529,368,131.7529" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="169" x="381" y="135.4102">LookUp(String) : BaseSingleton*</text><!--class DerivedSingleton--><rect fill="#FEFECE" filter="url(#few7lcyudpe2a)" height="86.8652" id="DerivedSingleton" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="377" y="202"/><ellipse cx="425.75" cy="218" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M428.2231,224.1431 Q427.6421,224.4419 427.0029,224.5913 Q426.3638,224.7407 425.6582,224.7407 Q423.1514,224.7407 421.8315,223.0889 Q420.5117,221.437 420.5117,218.3159 Q420.5117,215.1865 421.8315,213.5347 Q423.1514,211.8828 425.6582,211.8828 Q426.3638,211.8828 427.0112,212.0322 Q427.6587,212.1816 428.2231,212.4805 L428.2231,215.2031 Q427.5923,214.6221 426.9988,214.3523 Q426.4053,214.0825 425.7744,214.0825 Q424.4297,214.0825 423.7449,215.1492 Q423.0601,216.2158 423.0601,218.3159 Q423.0601,220.4077 423.7449,221.4744 Q424.4297,222.541 425.7744,222.541 Q426.4053,222.541 426.9988,222.2712 Q427.5923,222.0015 428.2231,221.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="446.25" y="222.5352">DerivedSingleton</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="378" x2="578" y1="234" y2="234"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="385" y="242.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="150" x="397" y="248.6348">instance : DerivedSingleton*</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="378" x2="578" y1="254.9551" y2="254.9551"/><ellipse cx="388" cy="266.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="176" x="397" y="269.5898">GetInstance() : DerivedSingleton*</text><polygon fill="#FFFF44" points="388,274.8877,392,278.8877,388,282.8877,384,278.8877" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="397" y="282.5449">DerivedSingleton()</text><path d="M6,217.5 L6,273.4316 A0,0 0 0 0 6,273.4316 L342,273.4316 A0,0 0 0 0 342,273.4316 L342,249.5 L376.8201,245.5 L342,241.5 L342,227.5 L332,217.5 L6,217.5 A0,0 0 0 0 6,217.5 " fill="#FBFB77" filter="url(#few7lcyudpe2a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M332,217.5 L332,227.5 L342,227.5 L332,217.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="12" y="235.0684">DerivedSingleton::DerivedSingleton() {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="307" x="20" y="250.3789">BaseSingleton::Register("DerivedSingleton", this);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="12" y="265.6895">}</text><!--link NonDerivableSingleton to BaseSingleton--><!--link BaseSingleton to DerivedSingleton--><path d="M478,162.843 C478,176.395 478,189.8597 478,201.8653 " fill="none" id="BaseSingleton-DerivedSingleton" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="471.0001,162.3861,478,142.3861,485.0001,162.3861,471.0001,162.3861" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
NonDerivableSingleton <-left[hidden]- BaseSingleton
BaseSingleton <|- - DerivedSingleton

class NonDerivableSingleton {
  {static} -instance : NonDerivableSingleton*
  {static} +GetInstance() : NonDerivableSingleton*
  -NonDerivableSingleton()
}
class BaseSingleton {
  {static} -instance : BaseSingleton*
  {static} -registry : Map<String, BaseSingleton*>
  __
  {static} +GetInstance() : BaseSingleton*
  #BaseSingleton()
  ..
  {static} #Register(String, BaseSingleton*)
  {static} #LookUp(String) : BaseSingleton*
}
class DerivedSingleton {
  {static} -instance : DerivedSingleton*
  {static} +GetInstance() : DerivedSingleton*
  #DerivedSingleton()
}

note left of DerivedSingleton
  DerivedSingleton::DerivedSingleton() {
    BaseSingleton::Register("DerivedSingleton", this);
  }
end note
@enduml

PlantUML version 1.2019.04(Fri Mar 29 23:44:36 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Mac OS X
OS Version: 10.14
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>