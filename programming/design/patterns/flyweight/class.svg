<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="311px" preserveAspectRatio="none" style="width:652px;height:311px;" version="1.1" viewBox="0 0 652 311" width="652px" zoomAndPan="magnify"><defs><filter height="300%" id="fpniu04o34m0n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Flyweight--><rect fill="#FEFECE" filter="url(#fpniu04o34m0n)" height="52.9551" id="Flyweight" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="262.5" y="8"/><ellipse cx="307.25" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303.6777,20.2651 L303.6777,18.1069 L311.0571,18.1069 L311.0571,20.2651 L308.5918,20.2651 L308.5918,28.3418 L311.0571,28.3418 L311.0571,30.5 L303.6777,30.5 L303.6777,28.3418 L306.1431,28.3418 L306.1431,20.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="327.75" y="28.5352">Flyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="263.5" x2="411.5" y1="40" y2="40"/><ellipse cx="273.5" cy="51.9775" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="282.5" y="54.6348">Request(ExtrinsicState)</text><!--class FlyweightFactory--><rect fill="#FEFECE" filter="url(#fpniu04o34m0n)" height="73.9102" id="FlyweightFactory" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="6" y="127.5"/><ellipse cx="59.75" cy="143.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M62.2231,149.6431 Q61.6421,149.9419 61.0029,150.0913 Q60.3638,150.2407 59.6582,150.2407 Q57.1514,150.2407 55.8315,148.5889 Q54.5117,146.937 54.5117,143.8159 Q54.5117,140.6865 55.8315,139.0347 Q57.1514,137.3828 59.6582,137.3828 Q60.3638,137.3828 61.0112,137.5322 Q61.6587,137.6816 62.2231,137.9805 L62.2231,140.7031 Q61.5923,140.1221 60.9988,139.8523 Q60.4053,139.5825 59.7744,139.5825 Q58.4297,139.5825 57.7449,140.6492 Q57.0601,141.7158 57.0601,143.8159 Q57.0601,145.9077 57.7449,146.9744 Q58.4297,148.041 59.7744,148.041 Q60.4053,148.041 60.9988,147.7712 Q61.5923,147.5015 62.2231,146.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="80.25" y="148.0352">FlyweightFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="214" y1="159.5" y2="159.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="168.4775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="26" y="174.1348">flyweights : Map&lt;Key, Flyweight*&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="214" y1="180.4551" y2="180.4551"/><ellipse cx="17" cy="192.4326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="26" y="195.0898">GetFlyweight(Key) : Flyweight</text><!--class SharedFlyweight--><rect fill="#FEFECE" filter="url(#fpniu04o34m0n)" height="73.9102" id="SharedFlyweight" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="250" y="127.5"/><ellipse cx="287.95" cy="143.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M290.4231,149.6431 Q289.8421,149.9419 289.2029,150.0913 Q288.5638,150.2407 287.8582,150.2407 Q285.3514,150.2407 284.0315,148.5889 Q282.7117,146.937 282.7117,143.8159 Q282.7117,140.6865 284.0315,139.0347 Q285.3514,137.3828 287.8582,137.3828 Q288.5638,137.3828 289.2112,137.5322 Q289.8587,137.6816 290.4231,137.9805 L290.4231,140.7031 Q289.7923,140.1221 289.1988,139.8523 Q288.6053,139.5825 287.9744,139.5825 Q286.6297,139.5825 285.9449,140.6492 Q285.2601,141.7158 285.2601,143.8159 Q285.2601,145.9077 285.9449,146.9744 Q286.6297,148.041 287.9744,148.041 Q288.6053,148.041 289.1988,147.7712 Q289.7923,147.5015 290.4231,146.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="307.05" y="148.0352">SharedFlyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="251" x2="424" y1="159.5" y2="159.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="258" y="168.4775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="270" y="174.1348">intrinsicState : IntrinsicState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="251" x2="424" y1="180.4551" y2="180.4551"/><ellipse cx="261" cy="192.4326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="270" y="195.0898">Request(ExtrinsicState)</text><!--class UnsharedFlyweight--><rect fill="#FEFECE" filter="url(#fpniu04o34m0n)" height="86.8652" id="UnsharedFlyweight" style="stroke: #A80036; stroke-width: 1.5;" width="181" x="460" y="121"/><ellipse cx="493.9" cy="137" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M496.3731,143.1431 Q495.7921,143.4419 495.1529,143.5913 Q494.5138,143.7407 493.8082,143.7407 Q491.3014,143.7407 489.9815,142.0889 Q488.6617,140.437 488.6617,137.3159 Q488.6617,134.1865 489.9815,132.5347 Q491.3014,130.8828 493.8082,130.8828 Q494.5138,130.8828 495.1612,131.0322 Q495.8087,131.1816 496.3731,131.4805 L496.3731,134.2031 Q495.7423,133.6221 495.1488,133.3523 Q494.5553,133.0825 493.9244,133.0825 Q492.5797,133.0825 491.8949,134.1492 Q491.2101,135.2158 491.2101,137.3159 Q491.2101,139.4077 491.8949,140.4744 Q492.5797,141.541 493.9244,141.541 Q494.5553,141.541 495.1488,141.2712 Q495.7423,141.0015 496.3731,140.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="512.1" y="141.5352">UnsharedFlyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="461" x2="640" y1="153" y2="153"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="468" y="161.9775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="480" y="167.6348">intrinsicState : IntrinsicState</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="468" y="174.9326"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="480" y="180.5898">extrinsicState : ExtrinsicState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="461" x2="640" y1="186.9102" y2="186.9102"/><ellipse cx="471" cy="198.8877" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="480" y="201.5449">Request(ExtrinsicState)</text><!--class Client--><rect fill="#FEFECE" filter="url(#fpniu04o34m0n)" height="32" id="Client" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="305.5" y="268"/><ellipse cx="320.5" cy="284" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M322.9731,290.1431 Q322.3921,290.4419 321.7529,290.5913 Q321.1138,290.7407 320.4082,290.7407 Q317.9014,290.7407 316.5815,289.0889 Q315.2617,287.437 315.2617,284.3159 Q315.2617,281.1865 316.5815,279.5347 Q317.9014,277.8828 320.4082,277.8828 Q321.1138,277.8828 321.7612,278.0322 Q322.4087,278.1816 322.9731,278.4805 L322.9731,281.2031 Q322.3423,280.6221 321.7488,280.3523 Q321.1553,280.0825 320.5244,280.0825 Q319.1797,280.0825 318.4949,281.1492 Q317.8101,282.2158 317.8101,284.3159 Q317.8101,286.4077 318.4949,287.4744 Q319.1797,288.541 320.5244,288.541 Q321.1553,288.541 321.7488,288.2712 Q322.3423,288.0015 322.9731,287.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="334.5" y="288.5352">Client</text><!--link Flyweight to FlyweightFactory--><path d="M279.6727,67.617 C251.4638,83.7718 217.1566,103.4191 186.8294,120.7871 " fill="none" id="Flyweight-FlyweightFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="175.4221,127.32,182.6166,127.8093,185.8354,121.3565,178.6409,120.8671,175.4221,127.32" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="291.0154,61.1211,281.2176,62.1227,286.6765,63.6059,285.1933,69.0648,291.0154,61.1211" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286.6765" x2="279.7343" y1="63.6059" y2="67.5817"/><!--link Flyweight to SharedFlyweight--><path d="M337.5,81.3763 C337.5,96.3967 337.5,112.8204 337.5,127.073 " fill="none" id="Flyweight-SharedFlyweight" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="330.5001,81.1212,337.5,61.1211,344.5001,81.1211,330.5001,81.1212" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Flyweight to UnsharedFlyweight--><path d="M398.5301,71.7484 C423.5893,87.0428 452.7837,104.8609 478.8483,120.7689 " fill="none" id="Flyweight-UnsharedFlyweight" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="394.5425,77.5155,381.1177,61.1211,401.8361,65.5654,394.5425,77.5155" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FlyweightFactory to Client--><path d="M185.5744,204.0215 C226.9841,225.8209 276.131,251.6934 307.0717,267.9816 " fill="none" id="FlyweightFactory-Client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="181.0799,201.6555,187.1805,209.3874,185.5043,203.9846,190.9071,202.3084,181.0799,201.6555" style="stroke: #A80036; stroke-width: 1.0;"/><!--link SharedFlyweight to Client--><path d="M337.5,206.6727 C337.5,227.8176 337.5,252.1865 337.5,267.8254 " fill="none" id="SharedFlyweight-Client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="337.5,201.6555,333.5,210.6555,337.5,206.6555,341.5,210.6555,337.5,201.6555" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UnsharedFlyweight to Client--><path d="M468.317,210.6073 C432.2235,230.857 392.1933,253.3152 366.0374,267.9896 " fill="none" id="UnsharedFlyweight-Client" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="472.698,208.1495,462.8917,209.0646,468.3374,210.5959,466.8061,216.0416,472.698,208.1495" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
Flyweight <- -* FlyweightFactory
Flyweight <|- - SharedFlyweight
Flyweight <|- - UnsharedFlyweight
FlyweightFactory <- - Client
SharedFlyweight <- - Client
UnsharedFlyweight <- - Client

interface Flyweight {
  {abstract} +Request(ExtrinsicState)
}
class SharedFlyweight {
  -intrinsicState : IntrinsicState
  +Request(ExtrinsicState)
}
class UnsharedFlyweight {
  -intrinsicState : IntrinsicState
  -extrinsicState : ExtrinsicState
  +Request(ExtrinsicState)
}
class FlyweightFactory {
  -flyweights : Map<Key, Flyweight*>
  +GetFlyweight(Key) : Flyweight
}

hide empty attributes
hide empty methods
@enduml

PlantUML version 1.2019.04(Fri Mar 29 23:44:36 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Mac OS X
OS Version: 10.14
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>